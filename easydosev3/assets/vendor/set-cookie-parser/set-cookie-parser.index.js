/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/set-cookie-parser@2.7.1/lib/set-cookie.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var e={exports:{}},t={decodeValues:!0,map:!1,silent:!1};function r(e){return"string"==typeof e&&!!e.trim()}function s(e,s){var o=e.split(";").filter(r),n=function(e){var t="",r="",s=e.split("=");s.length>1?(t=s.shift(),r=s.join("=")):r=e;return{name:t,value:r}}(o.shift()),i=n.name,a=n.value;s=s?Object.assign({},t,s):t;try{a=s.decodeValues?decodeURIComponent(a):a}catch(e){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+a+"'. Set options.decodeValues to false to disable this feature.",e)}var u={name:i,value:a};return o.forEach((function(e){var t=e.split("="),r=t.shift().trimLeft().toLowerCase(),s=t.join("=");"expires"===r?u.expires=new Date(s):"max-age"===r?u.maxAge=parseInt(s,10):"secure"===r?u.secure=!0:"httponly"===r?u.httpOnly=!0:"samesite"===r?u.sameSite=s:"partitioned"===r?u.partitioned=!0:u[r]=s})),u}function o(e,o){if(o=o?Object.assign({},t,o):t,!e)return o.map?{}:[];if(e.headers)if("function"==typeof e.headers.getSetCookie)e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var n=e.headers[Object.keys(e.headers).find((function(e){return"set-cookie"===e.toLowerCase()}))];n||!e.headers.cookie||o.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=n}if(Array.isArray(e)||(e=[e]),o.map){return e.filter(r).reduce((function(e,t){var r=s(t,o);return e[r.name]=r,e}),{})}return e.filter(r).map((function(e){return s(e,o)}))}e.exports=o;var n=e.exports.parse=o,i=e.exports.parseString=s,a=e.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if("string"!=typeof e)return[];var t,r,s,o,n,i=[],a=0;function u(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,n=!1;u();)if(","===(r=e.charAt(a))){for(s=a,a+=1,u(),o=a;a<e.length&&"="!==(r=e.charAt(a))&&";"!==r&&","!==r;)a+=1;a<e.length&&"="===e.charAt(a)?(n=!0,a=o,i.push(e.substring(t,s)),t=a):a=s+1}else a+=1;(!n||a>=e.length)&&i.push(e.substring(t,e.length))}return i},u=e.exports;export{u as default,n as parse,i as parseString,a as splitCookiesString};
